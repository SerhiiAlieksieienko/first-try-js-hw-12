import{a as b,i as c,S as L}from"./assets/vendor-BH9GyP-n.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}})();function f(e){return e.map(({webformatURL:i,largeImageURL:o,tags:a,likes:t,views:r,comments:n,downloads:p})=>`
        <li class="gallery-item">
            <a href="${o}" class="gallery-link">
                <img src="${i}" alt="${a}" loading="lazy" />
            </a>
            <div class="info">
                <p class="info-item"><b>Likes</b> ${t}</p>
                <p class="info-item"><b>Views</b> ${r}</p>
                <p class="info-item"><b>Comments</b> ${n}</p>
                <p class="info-item"><b>Downloads</b> ${p}</p>
            </div>
        </li>
    `).join("")}function v(){const e=document.querySelector(".gallery");e&&(e.innerHTML="")}function m(){const e=document.querySelector(".loader");e&&(console.log("loader on"),e.classList.add("visible"))}function u(){const e=document.querySelector(".loader");e&&(console.log("loader off"),e.classList.remove("visible"))}const S="49643182-9754596b7a63617f9fa0f6656";async function h(e,i){return await b.get("https://pixabay.com/api/",{params:{key:S,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,page:i,per_page:15}})}const q=document.querySelector(".form"),g=document.querySelector("input[name='search-text']"),y=document.querySelector(".gallery");document.querySelector(".loader").style.display="none";const s=document.querySelector(".load-more");q.addEventListener("submit",w);s.addEventListener("click",E);let l=1,d=null;function w(e){e.preventDefault();const i=g.value.trim();i&&(l=1,v(),m(),h(i,l).then(o=>{if(u(),!o.data.hits||o.data.hits.length===0){c.warning({title:"No Results",message:"No images found for your query. Try something else!",position:"topRight"});return}y.innerHTML=f(o.data.hits),s.style.display="block";const a=Math.ceil(o.data.totalHits/15);l<a?(s.classList.remove("load-more-hidden"),s.classList.add("load-more")):(s.classList.remove("load-more"),s.classList.add("load-more-hidden"),c.info({title:"End of Results",message:"We're sorry, but you've reached the end of search results.",position:"topRight"})),d?d.refresh():d=new L(".gallery a",{captions:!0,captionDelay:250,close:!0})}).catch(o=>{u(),console.error(o),c.error({title:"Error",message:"Sorry, something went wrong. Please try again!",position:"topRight"})}))}function E(){l++,s.disabled=!0,m(),h(g.value.trim(),l).then(e=>{u(),y.insertAdjacentHTML("beforeend",f(e.data.hits)),s.disabled=!1;const i=Math.ceil(e.data.totalHits/15);(!e.data.hits||e.data.hits.length===0||l>=i)&&(s.classList.remove("load-more"),s.classList.add("load-more-hidden"),c.info({title:"End of Results",message:"You've reached the end of search results.",position:"topRight"}));const o=document.querySelectorAll(".gallery-item");if(o.length===0)return;const a=o[o.length-1].getBoundingClientRect().height;window.scrollBy({left:0,top:a*2,behavior:"smooth"}),d&&d.refresh()}).catch(e=>{u(),s.classList.remove("load-more"),s.classList.add("load-more-hidden"),s.style.display="none",c.error({title:"Error",message:"We're sorry, but you've reached the end of search results.",position:"topRight"})})}
//# sourceMappingURL=index.js.map
